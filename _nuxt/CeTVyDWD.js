import{A as P,a9 as S,u as x,aa as I,L as w,M,Q as J,ab as Q,E as R,r as V,ac as E,ad as z,ae as H,C as L,J as U,af as Z,b as X,ag as G,ah as $}from"#entry";import{c as Y}from"./BEo5mLkx.js";const k={trailing:!0};function K(e,t=25,r={}){if(r={...k,...r},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let o,s,m=[],n,a;const h=(c,_)=>(n=A(e,c,_),n.finally(()=>{if(n=null,r.trailing&&a&&!s){const D=h(c,a);return a=null,D}}),n),y=function(...c){return r.trailing&&(a=c),n||new Promise(_=>{const D=!s&&r.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const u=r.leading?o:h(this,c);a=null;for(const l of m)l(u);m=[]},t),D?(o=h(this,c),_(o)):m.push(_)})},i=c=>{c&&(clearTimeout(c),s=null)};return y.isPending=()=>!!s,y.cancel=()=>{i(s),m=[],a=null},y.flush=()=>{if(i(s),!a||n)return;const c=a;return a=null,h(this,c)},y}async function A(e,t,r){return await e.apply(t,r)}function ie(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;ee(e[0],e[1])&&e.unshift(t);let[r,o,s={}]=e,m=!1;const n=P(()=>S(r));if(typeof n.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=x();s.server??=!0,s.default??=ae,s.getCachedData??=F,s.lazy??=!1,s.immediate??=!0,s.deep??=I.deep,s.dedupe??="cancel",s._functionName,a._asyncData[n.value];function h(){const u={cause:"initial",dedupe:s.dedupe};return a._asyncData[n.value]?._init||(u.cachedData=s.getCachedData(n.value,a,{cause:"initial"}),a._asyncData[n.value]=O(a,n.value,o,s,u.cachedData)),()=>a._asyncData[n.value].execute(u)}const y=h(),i=a._asyncData[n.value];i._deps++;const c=s.server!==!1&&a.payload.serverRendered;{let u=function(d){const f=a._asyncData[d];f?._deps&&(f._deps--,f._deps===0&&f?._off())};const l=U();if(l&&c&&s.immediate&&!l.sp&&(l.sp=[]),l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const d=l._nuxtOnBeforeMountCbs;Z(()=>{d.forEach(f=>{f()}),d.splice(0,d.length)}),X(()=>d.splice(0,d.length))}const g=l&&(l._nuxtClientOnly||G(Y,!1));c&&a.isHydrating&&(i.error.value||i.data.value!==void 0)?i.status.value=i.error.value?"error":"success":l&&(!g&&a.payload.serverRendered&&a.isHydrating||s.lazy)&&s.immediate?l._nuxtOnBeforeMountCbs.push(y):s.immediate&&i.status.value!=="success"&&y();const v=Q(),b=w(n,(d,f)=>{if((d||f)&&d!==f){m=!0;const C=a._asyncData[f]?.data.value!==void 0,N=a._asyncDataPromises[f]!==void 0,q={cause:"initial",dedupe:s.dedupe};if(!a._asyncData[d]?._init){let j;f&&C?j=a._asyncData[f].data.value:(j=s.getCachedData(d,a,{cause:"initial"}),q.cachedData=j),a._asyncData[d]=O(a,d,o,s,j)}a._asyncData[d]._deps++,f&&u(f),(s.immediate||C||N)&&a._asyncData[d].execute(q),$(()=>{m=!1})}},{flush:"sync"}),B=s.watch?w(s.watch,()=>{m||i._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};v&&M(()=>{b(),B(),u(n.value)})}const _={data:p(()=>a._asyncData[n.value]?.data),pending:p(()=>a._asyncData[n.value]?.pending),status:p(()=>a._asyncData[n.value]?.status),error:p(()=>a._asyncData[n.value]?.error),refresh:(...u)=>a._asyncData[n.value]?._init?a._asyncData[n.value].execute(...u):h()(),execute:(...u)=>_.refresh(...u),clear:()=>T(a,n.value)},D=Promise.resolve(a._asyncDataPromises[n.value]).then(()=>_);return Object.assign(D,_),D}function p(e){return P({get(){return e()?.value},set(t){const r=e();r&&(r.value=t)}})}function ee(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}async function re(e){await new Promise(r=>J(r)),await x().hooks.callHookParallel("app:data:refresh",void 0)}function T(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=R(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]&&(e._asyncDataPromises[t].cancelled=!0),e._asyncDataPromises[t]=void 0)}function te(e,t){const r={};for(const o of t)r[o]=e[o];return r}function O(e,t,r,o,s){e.payload._errors[t]??=void 0;const m=o.getCachedData!==F,n=r,a=o.deep?V:E,h=s!==void 0,y=e.hook("app:data:refresh",async c=>{(!c||c.includes(t))&&await i.execute({cause:"refresh:hook"})}),i={data:a(h?s:o.default()),pending:P(()=>i.status.value==="pending"),error:z(e.payload._errors,t),status:E("idle"),execute:(...c)=>{const[_,D=void 0]=c,u=_&&D===void 0&&typeof _=="object"?_:{};if(e._asyncDataPromises[t]){if((u.dedupe??o.dedupe)==="defer")return e._asyncDataPromises[t];e._asyncDataPromises[t].cancelled=!0}{const g="cachedData"in u?u.cachedData:o.getCachedData(t,e,{cause:u.cause??"refresh:manual"});if(g!==void 0)return e.payload.data[t]=i.data.value=g,i.error.value=void 0,i.status.value="success",Promise.resolve(g)}i.status.value="pending";const l=new Promise((g,v)=>{try{g(n(e))}catch(b){v(b)}}).then(async g=>{if(l.cancelled)return e._asyncDataPromises[t];let v=g;o.transform&&(v=await o.transform(g)),o.pick&&(v=te(v,o.pick)),e.payload.data[t]=v,i.data.value=v,i.error.value=void 0,i.status.value="success"}).catch(g=>{if(l.cancelled)return e._asyncDataPromises[t];i.error.value=L(g),i.data.value=R(o.default()),i.status.value="error"}).finally(()=>{l.cancelled||delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=l,e._asyncDataPromises[t]},_execute:K((...c)=>i.execute(...c),0,{leading:!0}),_default:o.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{y(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),m||H(()=>{e._asyncData[t]?._init||(T(e,t),i.execute=()=>Promise.resolve())})}};return i}const ae=()=>{},F=(e,t,r)=>{if(t.isHydrating)return t.payload.data[e];if(r.cause!=="refresh:manual"&&r.cause!=="refresh:hook")return t.static.data[e]},W={content_en:"v3.5.0--hCiJgNq6eKxfmeTXnQ9fkMz6AF2_xn-uepb-XokaFq0",content_fr:"v3.5.0--ArIk4YOaqOWHQwRPED4G20RbsxMgpEX0onnfnz17NFI",articles_en:"v3.5.0--lWSfvvXDiVC1wZeDARyc-CDOq6t24CnmHL3ZOytZqEY",articles_fr:"v3.5.0--7KJitVVwR0KoH3ErWFwBw21vjxiquKjZPWxDQqkWx2A",projects_en:"v3.5.0--UJE3CIZL09b7oG4IEDC3CBAbR9RBWTftJPTnoJ4YOF0",projects_fr:"v3.5.0--o2dmEz0kR7jycWAudWWJI87vyGp6NwvSCp1sHyRo0LE",stack:"v3.5.0--Qmj4t2ByZyBR5ulc5-JwMa_PL_tVFcEqcS0Ety0ZRSo",faq_en:"v3.5.0--TgEwNOJM13trv2x9dkFz3-OxC1EgJ1X512r6gxbteeU",faq_fr:"v3.5.0--4W0Pfx9U0ojpvyfh7CzUW5mDq85zVyqlxt8e8Bk5i3Q"},oe={content_en:"_content_content_en",content_fr:"_content_content_fr",articles_en:"_content_articles_en",articles_fr:"_content_articles_fr",projects_en:"_content_projects_en",projects_fr:"_content_projects_fr",stack:"_content_stack",faq_en:"_content_faq_en",faq_fr:"_content_faq_fr",info:"_content_info"},ce={content_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},content_fr:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},articles_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},articles_fr:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},projects_en:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},projects_fr:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},stack:{type:"data",fields:{id:"string",extension:"string",items:"json",meta:"json",stem:"string"}},faq_en:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},faq_fr:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},info:{type:"data",fields:{}}};async function le(e,t){return await $fetch(`/__nuxt_content/${t}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:W[String(t)],t:void 0}})}async function ue(e,t,r){return await $fetch(`/__nuxt_content/${t}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...e?.node?.req?.headers?.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:W[String(t)],t:void 0},method:"POST",body:{sql:r}})}export{W as a,le as b,ce as c,ue as f,re as r,oe as t,ie as u};
